<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./bootstrap/css/css_file.css">
    <title>code Style</title>
    <style>
        * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }

        .tbs {
            overflow-x: scroll;
        }

        td.box {
            position: relative;
            border: 1px solid red;
            padding: 2vw;
            background: white;
            transition: background 1.5s;
        }

        .red {
            background-color: transparent;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="text-center ">Sketch Pad</h1>
        <div class="row my-3">
            <div class="col-12 d-flex  align-items-center justify-content-center">
                <div class="form-group m-2">
                    <label for="Color">Choose Color</label>
                    <input type="color" class="form-control" id="color">
                </div>
                <button id="Eraser" class="btn btn-danger m-2" value="ON" disabled>Eraser</button>
                <span id="StatusOfEraser"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 col-md-12 form-group">
                <label for="GridInput">Enter Dimention</label>
                <input type="number" id="Gridinput" class="form-control" max="100" min="1">
                <button id="EnterValue" class="btn btn-success my-2" onclick="Create()">Create</button>
                <button id="Reset" class="btn btn-danger my-2" style="display: none;" onclick="Reset()">Reset</button>
            </div>
        </div>
    </div>
    <div class="container tbs" id="TableCreater">
        <h1 class="h1">Your Pad <span id="total"></span></h1>

    </div>
    <script>
        let color = document.getElementById('color');
        let eraser = document.getElementById('Eraser');
        let GridInput = document.getElementById('Gridinput');

        eraser.addEventListener("click", () => {
            if (eraser.value == "ON") {
                let box = document.querySelectorAll('.box');
                document.getElementById('StatusOfEraser').innerHTML = "Eraser Are on";
                for (let stat = 0; stat < box.length; stat++) {
                    box[stat].addEventListener('mouseover', () => box[stat].style.background = "transparent");
                    box[stat].addEventListener('mouseleave', () => box[stat].style.background = "transparent");
                }
                eraser.value = "OFF";
            }
            else if (eraser.value == "OFF") {
                condition();
                document.getElementById('StatusOfEraser').innerHTML = "Eraser Are OFF";
                eraser.value = "ON";
            }
        });

        // function EraserBtn() {
        //     if (eraser.value == "ON") {
        //         let box = document.querySelectorAll('.box');
        //         document.getElementById('StatusOfEraser').innerHTML = "Eraser Are on";
        //         for (let stat = 0; stat < box.length; stat++) {
        //             box[stat].addEventListener('mouseover', () => box[stat].style.background = "transparent");
        //             box[stat].addEventListener('mouseleave', () => box[stat].style.background = "transparent");
        //         }
        //         eraser.value = "OFF";
        //     }
        //     else if (eraser.value == "OFF") {
        //         condition();
        //         document.getElementById('StatusOfEraser').innerHTML = "Eraser Are OFF";
        //         eraser.value = "ON";
        //     }
        // }

        function Create() {
            let table = document.createElement('table');
            for (let row = 0; row < GridInput.value; row++) {
                const tr = table.insertRow(row);
                for (let col = 0; col < GridInput.value; col++) {
                    const td = tr.insertCell(col);
                    td.classList.add("box");
                }
            }
            document.getElementById("TableCreater").appendChild(table);
            GridInput.disabled = true;
            document.getElementById('EnterValue').style.display = "none";
            document.getElementById('Reset').style.display = "block";
            condition();
        }
        function condition() {
            let box = document.querySelectorAll('.box');
            eraser.disabled = false;
            if (!color == "") {
                document.getElementById('total').innerHTML = 'Total ' + box.length + ' box are Cereated';
                for (let stat = 0; stat < box.length; stat++) {
                    box[stat].addEventListener('mouseover', () => { onover(box, stat) });
                    // box[stat].addEventListener('mouseleave', () => { box[stat].style.background = "black" });
                }
            }
        }
        let arrayOfColor = [];
        function onover(arr, num) {
            if (arrayOfColor.length >= 10) {
                console.log("the length are above 10.");
            }
            else if (arrayOfColor.length <= 9) { 
                arr[num].style.background = color.value;
                arrayOfColor.push(num);
                console.log(arrayOfColor + " Length :" +arrayOfColor.length);
            }
        }
        function Reset() {
            location.reload();
        }
    </script>
    <script src="./bootstrap/js/javascript.js"></script>
</body>

</html>